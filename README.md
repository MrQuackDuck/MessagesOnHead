<h1><img width=80 src="https://github.com/user-attachments/assets/ad8dbd82-ebda-40c5-b95d-32488ead12cc" /> <div>MessagesOnHead</div></h1>

<p>
  <a href="https://www.java.com/"><img src="https://img.shields.io/badge/Java-blue.svg?logo=data:image/svg%2bxml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTguODUwOTggMTguNTZDOC44NTA5OCAxOC41NiA3LjkzMzk4IDE5LjA5NCA5LjUwMzk4IDE5LjI3NEMxMS40MDYgMTkuNDkyIDEyLjM3OCAxOS40NjEgMTQuNDczIDE5LjA2M0MxNC40NzMgMTkuMDYzIDE1LjAyNSAxOS40MDkgMTUuNzk0IDE5LjcwOUMxMS4wOTUgMjEuNzIyIDUuMTYwOTggMTkuNTkxIDguODUwOTggMTguNTZaTTguMjc1OTggMTUuOTMzQzguMjc1OTggMTUuOTMzIDcuMjQ3OTggMTYuNjk0IDguODE3OTggMTYuODU3QzEwLjg1IDE3LjA2NiAxMi40NTQgMTcuMDg0IDE1LjIzMSAxNi41NDlDMTUuMjMxIDE2LjU0OSAxNS42MTUgMTYuOTM4IDE2LjIxOCAxNy4xNTFDMTAuNTM5IDE4LjgxMiA0LjIxMDk4IDE3LjI4MSA4LjI3NTk4IDE1LjkzM1pNMTMuMTE2IDExLjQ3NUMxNC4yNzQgMTIuODA4IDEyLjgxMiAxNC4wMDggMTIuODEyIDE0LjAwOEMxMi44MTIgMTQuMDA4IDE1Ljc1MSAxMi40OSAxNC40MDEgMTAuNTlDMTMuMTQgOC44MTggMTIuMTczIDcuOTM4IDE3LjQwOCA0LjkwMkMxNy40MDggNC45MDEgOS4xOTE5OCA2Ljk1MyAxMy4xMTYgMTEuNDc1Wk0xOS4zMyAyMC41MDRDMTkuMzMgMjAuNTA0IDIwLjAwOSAyMS4wNjMgMTguNTgzIDIxLjQ5NUMxNS44NzEgMjIuMzE3IDcuMjk0OTggMjIuNTY0IDQuOTEzOTggMjEuNTI4QzQuMDU3OTggMjEuMTU1IDUuNjYzOTggMjAuNjM4IDYuMTY3OTggMjAuNTNDNi42OTQ5OCAyMC40MTYgNi45OTU5OCAyMC40MzcgNi45OTU5OCAyMC40MzdDNi4wNDI5OCAxOS43NjYgMC44Mzk5NzcgMjEuNzU0IDQuMzUyOTggMjIuMzI0QzEzLjkzMyAyMy44NzcgMjEuODE1IDIxLjYyNCAxOS4zMyAyMC41MDRaTTkuMjkxOTggMTMuMjFDOS4yOTE5OCAxMy4yMSA0LjkyOTk4IDE0LjI0NiA3Ljc0Nzk4IDE0LjYyMkM4LjkzNjk4IDE0Ljc4MSAxMS4zMDkgMTQuNzQ1IDEzLjUxOCAxNC41NkMxNS4zMjQgMTQuNDA4IDE3LjEzNiAxNC4wODMgMTcuMTM2IDE0LjA4M0MxNy4xMzYgMTQuMDgzIDE2LjQ5OSAxNC4zNTUgMTYuMDM4IDE0LjY3QzExLjYwOSAxNS44MzUgMy4wNTE5OCAxNS4yOTMgNS41MTU5OCAxNC4xMDJDNy41OTc5OCAxMy4wOTYgOS4yOTE5OCAxMy4yMSA5LjI5MTk4IDEzLjIxWk0xNy4xMTYgMTcuNTg0QzIxLjYxOSAxNS4yNDQgMTkuNTM3IDEyLjk5NSAxOC4wODQgMTMuMjk5QzE3LjcyOSAxMy4zNzMgMTcuNTY5IDEzLjQzNyAxNy41NjkgMTMuNDM3QzE3LjU2OSAxMy40MzcgMTcuNzAxIDEzLjIzIDE3Ljk1NCAxMy4xNEMyMC44MjkgMTIuMTI5IDIzLjA0IDE2LjEyMSAxNy4wMjYgMTcuNzAyQzE3LjAyNiAxNy43MDEgMTcuMDk2IDE3LjY0IDE3LjExNiAxNy41ODRaTTE0LjQwMSAwQzE0LjQwMSAwIDE2Ljg5NSAyLjQ5NCAxMi4wMzYgNi4zM0M4LjEzOTk4IDkuNDA3IDExLjE0OCAxMS4xNjIgMTIuMDM1IDEzLjE2NkM5Ljc2MDk4IDExLjExMyA4LjA5MTk4IDkuMzA4IDkuMjEwOTggNy42MjdDMTAuODU1IDUuMTU4IDE1LjQwOCAzLjk2MiAxNC40MDEgMFpNOS43MzM5OCAyMy45MjRDMTQuMDU2IDI0LjIwMSAyMC42OTMgMjMuNzcxIDIwLjg1IDIxLjcyNkMyMC44NSAyMS43MjYgMjAuNTQ4IDIyLjUwMSAxNy4yNzggMjMuMTE3QzEzLjU5IDIzLjgxMSA5LjAzODk4IDIzLjczIDYuMzQwOTggMjMuMjg1QzYuMzQwOTggMjMuMjg0IDYuODkzOTggMjMuNzQyIDkuNzMzOTggMjMuOTI0WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==&color=F07427" /></a>
  <a href="https://papermc.io/downloads/all"><img src="https://img.shields.io/badge/PaperMC-blue.svg?logo=data:image/svg%2bxml;base64,PHN2ZyB3aWR0aD0iNDYwIiBoZWlnaHQ9IjQ2MCIgdmlld0JveD0iMCAwIDQ2MCA0NjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00NTEuNDMxIDE5LjQxMjdMOC45MDM4MyAxOTUuNjU1QzUuMTQ5MjggMTk3LjE1IDQuNjI3OTYgMjAyLjI1MSA4LjAwMjM5IDIwNC40NzVMMTIzLjU2OSAyODAuNjM5QzEyNS4zMjggMjgxLjc5OCAxMjcuNjIzIDI4MS43MzIgMTI5LjMxMSAyODAuNDczQzE1Ni43NTQgMjYwLjAxIDM3NS43ODEgOTYuOTgxNiAzNzIuNSAxMDguOTI4QzM2OS4yMDggMTIwLjkxNSAxOTUuMTg0IDI5OC43MjMgMTc0LjUwMiAzMTkuODI0QzE3My4yMzggMzIxLjExNSAxNzIuODEyIDMyMi45NCAxNzMuMzE1IDMyNC42NzVMMTk2LjYyMSA0MDUuMDAyQzE5Ny42ODYgNDA4LjY3MiAyMDIuMzA3IDQwOS44NCAyMDQuOTg3IDQwNy4xMTZMMjQyLjcyMyAzNjguNzYyQzI0NC4zNSAzNjcuMTA5IDI0Ni45MDEgMzY2Ljc5MSAyNDguODgzIDM2Ny45OTZMMzY3LjkwNyA0NDAuMjk4QzM3MC44NyA0NDIuMDk5IDM3NC43MjEgNDQwLjQwOSAzNzUuNDA1IDQzNy4wMUw0NTguMTgzIDI1LjA0MjlDNDU4Ljk2NSAyMS4xNTE0IDQ1NS4xMTkgMTcuOTQ0MSA0NTEuNDMxIDE5LjQxMjdaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K&color=0090FF" /></a>
  <a href="https://modrinth.com/plugin/messagesonhead"><img src="https://img.shields.io/badge/Modrinth-blue.svg?logo=modrinth&color=15C132&logoColor=FFFFFF" /></a>
</p>

**MessagesOnHead** is a **Paper (1.19.4+)** plugin that shows messages above players' heads for a little time when they send messages to the chat.\
The plugin's functionality is based on the [Text Display](https://minecraft.wiki/w/Display#Text_Displays) entity.

### ðŸ‘€ Screenshots

<img height=300 src="https://github.com/user-attachments/assets/e9d2fa01-83c7-45ff-a0fa-d7fb8b649ad7" />

### ðŸŒ  Key features
- **Limit per line**: you can configure the symbols limit for each line in the `symbolsPerLine` field.
- **Max symbols limit**: you can configure the max amount of symbols per message in the `symbolsLimit` field (_'...' will be appended if the limit is reached_).
- **Timer**: You can enable/disable the timer at the end of the message that shows how much time is left until the message is gone.
- **Time scaling**: you can make longer messages exist for more time.
- **Colors and style**: you can choose the color of the text, its background, whether the text is shadowed and the color for the timer.
- **Rotation**: you may configure how a text display will rotate in the `pivotAxis` field.
- **Adjustable height (1.21.6+)**: you may configure gaps between messages and above player's head in `gapBetweenMessages` and `gapAboveHead` fields.
- **PlaceholderAPI support**: you can configure a placeholder that will color your text displays.

### ðŸ”ž Permissions

- `messagesonhead.show` _(**true** by default)_  â€” Whether messages will appear above player's head.
- `messagesonhead.admin` _(for **operators** by default)_ â€” Allows to use the `/moh` command.

### ðŸ’» Commands

- `/moh info` â€” shows commands info.
- `/moh reload` â€” reloads the config and makes a cleanup by removing all entities related to the plugin.
- `/moh say <player> <msg>` â€” says a message on behalf of the player.

Aliases: `/messagesonhead`.

### ðŸ“„ Default config

```yml
symbolsPerLine: 30
# If the limit is reached, the three dots will be added at the end. -1 means there's no limit
symbolsLimit: -1
# Initial amount of seconds for the message to exist
timeToExist: 2
# Whether a message will be visible to the sender
visibleToSender: true

# Whether a longer message will exist for more time
scalingEnabled: true
# Scaling coefficient per symbol in seconds. For example, a message with 50 symbols
# will exist for extra 5 seconds if the coefficient is set to 0.1 (because 0.1 * 50 = 5)
scalingCoefficient: 0.05

# Distances between messages / above player's head
gapBetweenMessages: 0.3
gapAboveHead: 0.4

textColor: "#FFFFFF"

timerEnabled: true
# Minimum message length threshold for the timer to be displayed
minSymbolsForTimer: 0
timerFormat: " (%.1f)"
timerColor: "#F4CA16"

backgroundEnabled: true
backgroundColor: "#000000"
# Range: [0, 100]
backgroundTransparencyPercentage: 100

# Whether a text will have a shadow
isShadowed: true

# How a text display can pivot:
# VERTICAL - Can pivot around vertical axis
# HORIZONTAL - Can pivot around horizontal axis
# CENTER - Can pivot around center point
# FIXED - No rotation
pivotAxis: "VERTICAL"

# You may enable this if you use a plugin for per-player chat color customization (e.g., EZColors, ChatColor etc.)
placeholderApiIntegration: false
# Name of a placeholder that will be put before each text line
colorPlaceholder: "%ezcolors_color%"
# Format for text lines if `placeholderApiIntegration` is true
lineFormat: "&[defaultColor]&[colorPlaceholder][message]"

messages:
  "prefix": "&#F4CA16[MessagesOnHead]"
  "info-content": "<prefix> &#D9E6EDCommands list:
  \n &f/moh reload - &#D9E6EDReloads the config and makes a cleanup by removing all entities related to the plugin.
  \n &f/moh say - &#D9E6EDSay a message on behalf of the player."
  "reloaded": "<prefix> &#D9E6EDReloaded!"
  "player-not-found": "<prefix> Player not found."
  "command-not-found": "<prefix> &cCommand not found."
  "error-during-reload": "<prefix> &cAn error occurred during reload! Check console for details."
```

### ðŸš€ Installation guide

> [!IMPORTANT]
> Before getting started, make sure that the plugin's version is **compatible** with your server version.

1. Download the latest version of the plugin from the <a href="https://github.com/MrQuackDuck/MessagesOnHead/releases">Releases</a> tab.
1. Put the downloaded `.jar` into the `/plugins` folder of your server.
1. Restart your server or enter the `/reload` command.
